#!/usr/bin/env bash
set -e

echo "Starting system setup..."

sudo pacman -Syu --needed --noconfirm base-devel labwc zsh alacritty tmux fcitx5 fcitx5-chinese-addons fcitx5-configtool fcitx5-qt

if ! command -v yay >/dev/null 2>&1; then
  mkdir -p ~/aur-builds && cd ~/aur-builds
  git clone https://aur.archlinux.org/yay.git
  cd yay
  makepkg -si --noconfirm
fi

if [[ "$SHELL" != "/usr/bin/zsh" ]]; then
  chsh -s /usr/bin/zsh
fi

echo "âœ… Setup complete"
